(function(n,t,i,r){"use strict";function u(n){var t=/fade/i.test(n),i=/pop/i.test(n);return{animate:t||i,pop:i,fade:t}}Foundation.libs.reveal={name:"reveal",version:"5.2.2",locked:!1,settings:{animation:"fadeAndPop",animation_speed:250,close_on_background_click:!0,close_on_esc:!0,dismiss_modal_class:"close-reveal-modal",bg_class:"reveal-modal-bg",open:function(){},opened:function(){},close:function(){},closed:function(){},bg:n(".reveal-modal-bg"),css:{open:{opacity:0,visibility:"visible",display:"block"},close:{opacity:1,visibility:"hidden",display:"none"}}},init:function(t,i,r){n.extend(!0,this.settings,i,r);this.bindings(i,r)},events:function(){var n=this,t=n.S;t(this.scope).off(".reveal").on("click.fndtn.reveal","["+this.add_namespace("data-reveal-id")+"]",function(i){var r,u,f;i.preventDefault();n.locked||(r=t(this),u=r.data(n.data_attr("reveal-ajax")),n.locked=!0,typeof u=="undefined"?n.open.call(n,r):(f=u===!0?r.attr("href"):u,n.open.call(n,r,{url:f})))});t(i).on("touchend.fndtn.reveal click.fndtn.reveal",this.close_targets(),function(i){if(i.preventDefault(),!n.locked){var r=t("["+n.attr_name()+"].open").data(n.attr_name(!0)+"-init"),u=t(i.target)[0]===t("."+r.bg_class)[0];if(u)if(r.close_on_background_click)i.stopPropagation();else return;n.locked=!0;n.close.call(n,u?t("["+n.attr_name()+"].open"):t(this).closest("["+n.attr_name()+"]"))}});if(t("["+n.attr_name()+"]",this.scope).length>0)t(this.scope).on("open.fndtn.reveal",this.settings.open).on("opened.fndtn.reveal",this.settings.opened).on("opened.fndtn.reveal",this.open_video).on("close.fndtn.reveal",this.settings.close).on("closed.fndtn.reveal",this.settings.closed).on("closed.fndtn.reveal",this.close_video);else t(this.scope).on("open.fndtn.reveal","["+n.attr_name()+"]",this.settings.open).on("opened.fndtn.reveal","["+n.attr_name()+"]",this.settings.opened).on("opened.fndtn.reveal","["+n.attr_name()+"]",this.open_video).on("close.fndtn.reveal","["+n.attr_name()+"]",this.settings.close).on("closed.fndtn.reveal","["+n.attr_name()+"]",this.settings.closed).on("closed.fndtn.reveal","["+n.attr_name()+"]",this.close_video);return!0},key_up_on:function(){var n=this;n.S("body").off("keyup.fndtn.reveal").on("keyup.fndtn.reveal",function(t){var i=n.S("["+n.attr_name()+"].open"),r=i.data(n.attr_name(!0)+"-init");r&&t.which===27&&r.close_on_esc&&!n.locked&&n.close.call(n,i)});return!0},key_up_off:function(){return this.S("body").off("keyup.fndtn.reveal"),!0},open:function(t,i){var u=this,r,e,f,o;t?typeof t.selector!="undefined"?r=u.S("#"+t.data(u.data_attr("reveal-id"))):(r=u.S(this.scope),i=t):r=u.S(this.scope);e=r.data(u.attr_name(!0)+"-init");r.hasClass("open")||(f=u.S("["+u.attr_name()+"].open"),typeof r.data("css-top")=="undefined"&&r.data("css-top",parseInt(r.css("top"),10)).data("offset",this.cache_offset(r)),this.key_up_on(r),r.trigger("open"),f.length<1&&this.toggle_bg(r),typeof i=="string"&&(i={url:i}),typeof i!="undefined"&&i.url?(o=typeof i.success!="undefined"?i.success:null,n.extend(i,{success:function(t,i,s){n.isFunction(o)&&o(t,i,s);r.html(t);u.S(r).foundation("section","reflow");f.length>0&&u.hide(f,e.css.close);u.show(r,e.css.open)}}),n.ajax(i)):(f.length>0&&this.hide(f,e.css.close),this.show(r,e.css.open)))},close:function(n){var n=n&&n.length?n:this.S(this.scope),t=this.S("["+this.attr_name()+"].open"),i=n.data(this.attr_name(!0)+"-init");t.length>0&&(this.locked=!0,this.key_up_off(n),n.trigger("close"),this.toggle_bg(n),this.hide(t,i.css.close,i))},close_targets:function(){var n="."+this.settings.dismiss_modal_class;return this.settings.close_on_background_click?n+", ."+this.settings.bg_class:n},toggle_bg:function(t){var i=t.data(this.attr_name(!0));this.S("."+this.settings.bg_class).length===0&&(this.settings.bg=n("<div />",{"class":this.settings.bg_class}).appendTo("body").hide());this.settings.bg.filter(":visible").length>0?this.hide(this.settings.bg):this.show(this.settings.bg)},show:function(i,r){var s,h,e,o,f;if(r){if(f=i.data(this.attr_name(!0)+"-init"),i.parent("body").length===0){s=i.wrap('<div style="display: none;" />').parent();h=this.settings.rootElement||"body";i.on("closed.fndtn.reveal.wrapped",function(){i.detach().appendTo(s);i.unwrap().unbind("closed.fndtn.reveal.wrapped")});i.detach().appendTo(h)}return(e=u(f.animation),e.animate||(this.locked=!1),e.pop)?(r.top=n(t).scrollTop()-i.data("offset")+"px",o={top:n(t).scrollTop()+i.data("css-top")+"px",opacity:1},setTimeout(function(){return i.css(r).animate(o,f.animation_speed,"linear",function(){this.locked=!1;i.trigger("opened")}.bind(this)).addClass("open")}.bind(this),f.animation_speed/2)):e.fade?(r.top=n(t).scrollTop()+i.data("css-top")+"px",o={opacity:1},setTimeout(function(){return i.css(r).animate(o,f.animation_speed,"linear",function(){this.locked=!1;i.trigger("opened")}.bind(this)).addClass("open")}.bind(this),f.animation_speed/2)):i.css(r).show().css({opacity:1}).addClass("open").trigger("opened")}return(f=this.settings,u(f.animation).fade)?i.fadeIn(f.animation_speed/2):(this.locked=!1,i.show())},hide:function(i,r){var e,o,f;return r?(f=i.data(this.attr_name(!0)+"-init"),e=u(f.animation),e.animate||(this.locked=!1),e.pop)?(o={top:-n(t).scrollTop()-i.data("offset")+"px",opacity:0},setTimeout(function(){return i.animate(o,f.animation_speed,"linear",function(){this.locked=!1;i.css(r).trigger("closed")}.bind(this)).removeClass("open")}.bind(this),f.animation_speed/2)):e.fade?(o={opacity:0},setTimeout(function(){return i.animate(o,f.animation_speed,"linear",function(){this.locked=!1;i.css(r).trigger("closed")}.bind(this)).removeClass("open")}.bind(this),f.animation_speed/2)):i.hide().css(r).removeClass("open").trigger("closed"):(f=this.settings,u(f.animation).fade)?i.fadeOut(f.animation_speed/2):i.hide()},close_video:function(t){var r=n(".flex-video",t.target),i=n("iframe",r);i.length>0&&(i.attr("data-src",i[0].src),i.attr("src","about:blank"),r.hide())},open_video:function(t){var u=n(".flex-video",t.target),i=u.find("iframe"),f,e;i.length>0&&(f=i.attr("data-src"),typeof f=="string"?i[0].src=i.attr("data-src"):(e=i[0].src,i[0].src=r,i[0].src=e),u.show())},data_attr:function(n){return this.namespace.length>0?this.namespace+"-"+n:n},cache_offset:function(n){var t=n.show().height()+parseInt(n.css("top"),10);return n.hide(),t},off:function(){n(this.scope).off(".fndtn.reveal")},reflow:function(){}}})(jQuery,this,this.document);
/*
//# sourceMappingURL=foundation.reveal.min.js.map
*/